{"ast":null,"code":"var _jsxFileName = \"D:\\\\project-root\\\\travel-admin\\\\src\\\\pages\\\\Packages.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./Packages.css\";\nimport { apiURL } from \"../services/variables.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Packages() {\n  _s();\n  const [activeTab, setActiveTab] = useState(\"Domestic\");\n  const [packages, setPackages] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedSubcategory, setSelectedSubcategory] = useState(\"\");\n  const [formOpen, setFormOpen] = useState(false);\n  const [editingId, setEditingId] = useState(null);\n  const [imageFile, setImageFile] = useState(null);\n  const [viewPackage, setViewPackage] = useState(null);\n  const [detailForm, setDetailForm] = useState(null);\n  const [existingDetails, setExistingDetails] = useState([]);\n  const [newPackage, setNewPackage] = useState({\n    title: \"\",\n    type: \"Domestic\",\n    category: \"\",\n    price: \"\",\n    rating: \"\",\n    review: \"\",\n    image: \"\",\n    country: \"\",\n    showOnHome: false\n  });\n\n  // üíæ Detail Data (for multiple images per day)\n  const [detailData, setDetailData] = useState({\n    mainImage: null,\n    days: 0,\n    dayWiseImages: {} // structure: { Day 1: [...], Day 2: [...] }\n  });\n\n  // Disable scroll when any modal open\n  useEffect(() => {\n    document.body.style.overflow = formOpen || viewPackage || detailForm ? \"hidden\" : \"auto\";\n    return () => document.body.style.overflow = \"auto\";\n  }, [formOpen, viewPackage, detailForm]);\n\n  // Initial fetch\n  useEffect(() => {\n    fetchPackages();\n    fetchCategories();\n  }, []);\n  const fetchPackages = async () => {\n    try {\n      const response = await fetch(`${apiURL}/packages`);\n      const data = await response.json();\n      setPackages(data.data || []);\n    } catch (error) {\n      console.error(\"Error fetching packages:\", error);\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const response = await fetch(`${apiURL}/categories`);\n      const data = await response.json();\n      if (data.result === \"success\") setCategories(data.data || []);\n    } catch (error) {\n      console.error(\"Error fetching categories:\", error);\n    }\n  };\n\n  // Add or Update Package\n  const handleAddOrUpdatePackage = async () => {\n    if (!newPackage.title) return alert(\"Please fill Title!\");\n    if (!newPackage.country) return alert(\"Please enter Country!\");\n    try {\n      const method = editingId ? \"PUT\" : \"POST\";\n      const url = editingId ? `${apiURL}/packages/${editingId}` : `${apiURL}/packages`;\n      const formData = new FormData();\n      for (const key in newPackage) {\n        formData.append(key, newPackage[key]);\n      }\n      if (imageFile) formData.append(\"image\", imageFile);\n      const response = await fetch(url, {\n        method,\n        body: formData\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        alert(\"‚ùå Error: \" + (data.message || \"Failed to save package\"));\n        return;\n      }\n      alert(\"‚úÖ Package saved successfully!\");\n      fetchPackages();\n      resetForm();\n    } catch (error) {\n      console.error(\"Error saving package:\", error);\n      alert(\"Something went wrong while saving the package.\");\n    }\n  };\n\n  // Delete Package\n  const handleRemovePackage = async id => {\n    if (!window.confirm(\"Are you sure you want to remove this package?\")) return;\n    try {\n      await fetch(`${apiURL}/packages/${id}`, {\n        method: \"DELETE\"\n      });\n      setPackages(packages.filter(pkg => pkg._id !== id));\n    } catch (error) {\n      console.error(\"Error deleting package:\", error);\n    }\n  };\n\n  // Edit base package\n  const handleEditPackage = pkg => {\n    var _pkg$category;\n    setNewPackage({\n      ...pkg,\n      category: ((_pkg$category = pkg.category) === null || _pkg$category === void 0 ? void 0 : _pkg$category._id) || pkg.category\n    });\n    setEditingId(pkg._id);\n    setFormOpen(true);\n  };\n  const handleViewDetails = pkg => setViewPackage(pkg);\n  const closeViewDetails = () => setViewPackage(null);\n  const resetForm = () => {\n    setFormOpen(false);\n    setEditingId(null);\n    setImageFile(null);\n    setNewPackage({\n      title: \"\",\n      type: \"Domestic\",\n      category: \"\",\n      price: \"\",\n      rating: \"\",\n      review: \"\",\n      image: \"\",\n      country: \"\",\n      showOnHome: false\n    });\n  };\n\n  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n  // Handle Multiple Image Details (Day-wise)\n  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n  const handleOpenDetailForm = async pkg => {\n    await loadExistingDetails(pkg._id);\n    setDetailForm(pkg);\n    setDetailData({\n      mainImage: null,\n      days: 0,\n      dayWiseImages: {}\n    });\n  };\n  const loadExistingDetails = async packageId => {\n    try {\n      setExistingDetails([]);\n      const res = await fetch(`${apiURL}/package-details/packagebyid/${packageId}`);\n      if (res.ok) {\n        const payload = await res.json();\n        setExistingDetails(Array.isArray(payload.data) ? payload.data : []);\n      } else {\n        setExistingDetails([]);\n      }\n    } catch (e) {\n      console.warn(\"Could not fetch existing package details\", e);\n      setExistingDetails([]);\n    }\n  };\n  const handleDaysChange = value => {\n    const days = Number(value);\n    if (days <= 0) return;\n    const newDayWise = {};\n    for (let i = 1; i <= days; i++) {\n      newDayWise[`Day ${i}`] = [];\n    }\n    setDetailData({\n      ...detailData,\n      days,\n      dayWiseImages: newDayWise\n    });\n  };\n  const handleAddImagesForDay = (day, files) => {\n    const arr = Array.from(files).map(file => ({\n      image: file,\n      imageName: file.name.replace(/\\.[^/.]+$/, \"\"),\n      rating: 4.5,\n      review: \"\",\n      imageDetail: \"\"\n    }));\n    setDetailData(prev => ({\n      ...prev,\n      dayWiseImages: {\n        ...prev.dayWiseImages,\n        [day]: [...(prev.dayWiseImages[day] || []), ...arr]\n      }\n    }));\n  };\n  const handleSavePackageDetail = async () => {\n    if (!(detailForm !== null && detailForm !== void 0 && detailForm._id)) {\n      alert(\"Package ID missing! Please re-open the detail form.\");\n      return;\n    }\n    if (detailData.days < 1) {\n      alert(\"Please enter a valid number of days.\");\n      return;\n    }\n\n    // Flatten all images across days\n    const allImages = [];\n    Object.entries(detailData.dayWiseImages).forEach(([day, imgs]) => {\n      imgs.forEach(img => {\n        allImages.push({\n          ...img,\n          day\n        });\n      });\n    });\n    if (!allImages.length) {\n      alert(\"Please upload at least one image.\");\n      return;\n    }\n    try {\n      const formData = new FormData();\n      formData.append(\"packageID\", detailForm._id);\n      formData.append(\"imagesData\", JSON.stringify(allImages.map(i => ({\n        imageName: i.imageName,\n        rating: i.rating,\n        review: i.review,\n        imageDetail: i.imageDetail,\n        day: i.day\n      }))));\n      if (detailData.mainImage) formData.append(\"image\", detailData.mainImage);\n      allImages.forEach(img => formData.append(\"images\", img.image));\n      const response = await fetch(`${apiURL}/package-details`, {\n        method: \"POST\",\n        body: formData\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        alert(\"‚ùå Failed to save details: \" + (data.message || \"Unknown error\"));\n        return;\n      }\n      alert(\"‚úÖ Package Detail saved successfully!\");\n      await loadExistingDetails(detailForm._id);\n    } catch (error) {\n      console.error(\"Error saving package detail:\", error);\n      alert(\"Something went wrong while saving the package detail.\");\n    }\n  };\n  const filteredPackages = packages.filter(pkg => !selectedSubcategory || pkg.type === selectedSubcategory);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"packages-container\",\n    children: detailForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        style: {\n          maxWidth: \"900px\",\n          maxHeight: \"85vh\",\n          overflowY: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCCB Package Detail Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDDBC\\uFE0F Main Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: e => setDetailData({\n            ...detailData,\n            mainImage: e.target.files[0]\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this), detailData.mainImage && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: 13,\n            color: \"#666\"\n          },\n          children: [\"Selected: \", detailData.mainImage.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 16\n          },\n          children: \"\\uD83D\\uDDD3\\uFE0F Number of Days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: \"1\",\n          placeholder: \"Enter number of days\",\n          value: detailData.days || \"\",\n          onChange: e => handleDaysChange(e.target.value),\n          style: {\n            width: \"100%\",\n            marginBottom: 12\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this), Object.keys(detailData.dayWiseImages).map((day, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: \"2px solid #ddd\",\n            borderRadius: 10,\n            marginTop: 20,\n            padding: 15\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: day\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            multiple: true,\n            accept: \"image/*\",\n            onChange: e => handleAddImagesForDay(day, e.target.files)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this), (detailData.dayWiseImages[day] || []).map((img, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px solid #ccc\",\n              borderRadius: \"10px\",\n              padding: \"12px\",\n              marginTop: \"12px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"\\uD83D\\uDDBC\\uFE0F Image \", index + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: 13,\n                color: \"#666\"\n              },\n              children: img.image.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Image Name\",\n              value: img.imageName,\n              onChange: e => {\n                const updated = {\n                  ...detailData\n                };\n                updated.dayWiseImages[day][index].imageName = e.target.value;\n                setDetailData(updated);\n              },\n              style: {\n                width: \"100%\",\n                marginBottom: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"1\",\n              max: \"5\",\n              step: \"0.1\",\n              placeholder: \"Rating\",\n              value: img.rating,\n              onChange: e => {\n                const updated = {\n                  ...detailData\n                };\n                updated.dayWiseImages[day][index].rating = e.target.value;\n                setDetailData(updated);\n              },\n              style: {\n                width: \"100%\",\n                marginBottom: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Review\",\n              value: img.review,\n              onChange: e => {\n                const updated = {\n                  ...detailData\n                };\n                updated.dayWiseImages[day][index].review = e.target.value;\n                setDetailData(updated);\n              },\n              style: {\n                width: \"100%\",\n                marginBottom: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"Image Detail\",\n              value: img.imageDetail,\n              onChange: e => {\n                const updated = {\n                  ...detailData\n                };\n                updated.dayWiseImages[day][index].imageDetail = e.target.value;\n                setDetailData(updated);\n              },\n              style: {\n                width: \"100%\",\n                minHeight: \"60px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 19\n          }, this))]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          style: {\n            marginTop: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"save-btn\",\n            onClick: handleSavePackageDetail,\n            children: \"\\u2705 Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: () => setDetailForm(null),\n            children: \"\\u274C Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCDA Existing Image Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this), existingDetails.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"#666\"\n            },\n            children: \"No details added yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"grid\",\n              gap: 10\n            },\n            children: existingDetails.map(det => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: \"1px solid #ddd\",\n                padding: \"10px\",\n                borderRadius: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uD83D\\uDCC5 Day:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 25\n                }, this), \" \", det.day || \"N/A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uD83D\\uDCF8 Image:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 25\n                }, this), \" \", det.imageName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2B50 Rating:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 25\n                }, this), \" \", det.rating]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uD83D\\uDCAC Review:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 25\n                }, this), \" \", det.review]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uD83D\\uDCC4 Detail:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 25\n                }, this), \" \", det.imageDetail]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 23\n              }, this)]\n            }, det._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n}\n_s(Packages, \"r/fBMjln5x7Hqidt64Dmt2MiOyk=\");\n_c = Packages;\nvar _c;\n$RefreshReg$(_c, \"Packages\");","map":{"version":3,"names":["React","useState","useEffect","apiURL","jsxDEV","_jsxDEV","Packages","_s","activeTab","setActiveTab","packages","setPackages","categories","setCategories","selectedSubcategory","setSelectedSubcategory","formOpen","setFormOpen","editingId","setEditingId","imageFile","setImageFile","viewPackage","setViewPackage","detailForm","setDetailForm","existingDetails","setExistingDetails","newPackage","setNewPackage","title","type","category","price","rating","review","image","country","showOnHome","detailData","setDetailData","mainImage","days","dayWiseImages","document","body","style","overflow","fetchPackages","fetchCategories","response","fetch","data","json","error","console","result","handleAddOrUpdatePackage","alert","method","url","formData","FormData","key","append","ok","message","resetForm","handleRemovePackage","id","window","confirm","filter","pkg","_id","handleEditPackage","_pkg$category","handleViewDetails","closeViewDetails","handleOpenDetailForm","loadExistingDetails","packageId","res","payload","Array","isArray","e","warn","handleDaysChange","value","Number","newDayWise","i","handleAddImagesForDay","day","files","arr","from","map","file","imageName","name","replace","imageDetail","prev","handleSavePackageDetail","allImages","Object","entries","forEach","imgs","img","push","length","JSON","stringify","filteredPackages","className","children","maxWidth","maxHeight","overflowY","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","target","fontSize","color","marginTop","min","placeholder","width","marginBottom","keys","idx","border","borderRadius","padding","multiple","index","updated","max","step","minHeight","onClick","display","gap","det","_c","$RefreshReg$"],"sources":["D:/project-root/travel-admin/src/pages/Packages.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Packages.css\";\nimport { apiURL } from \"../services/variables.js\";\n\nexport default function Packages() {\n  const [activeTab, setActiveTab] = useState(\"Domestic\");\n  const [packages, setPackages] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedSubcategory, setSelectedSubcategory] = useState(\"\");\n  const [formOpen, setFormOpen] = useState(false);\n  const [editingId, setEditingId] = useState(null);\n  const [imageFile, setImageFile] = useState(null);\n  const [viewPackage, setViewPackage] = useState(null);\n  const [detailForm, setDetailForm] = useState(null);\n  const [existingDetails, setExistingDetails] = useState([]);\n\n  const [newPackage, setNewPackage] = useState({\n    title: \"\",\n    type: \"Domestic\",\n    category: \"\",\n    price: \"\",\n    rating: \"\",\n    review: \"\",\n    image: \"\",\n    country: \"\",\n    showOnHome: false,\n  });\n\n  // üíæ Detail Data (for multiple images per day)\n  const [detailData, setDetailData] = useState({\n    mainImage: null,\n    days: 0,\n    dayWiseImages: {}, // structure: { Day 1: [...], Day 2: [...] }\n  });\n\n  // Disable scroll when any modal open\n  useEffect(() => {\n    document.body.style.overflow =\n      formOpen || viewPackage || detailForm ? \"hidden\" : \"auto\";\n    return () => (document.body.style.overflow = \"auto\");\n  }, [formOpen, viewPackage, detailForm]);\n\n  // Initial fetch\n  useEffect(() => {\n    fetchPackages();\n    fetchCategories();\n  }, []);\n\n  const fetchPackages = async () => {\n    try {\n      const response = await fetch(`${apiURL}/packages`);\n      const data = await response.json();\n      setPackages(data.data || []);\n    } catch (error) {\n      console.error(\"Error fetching packages:\", error);\n    }\n  };\n\n  const fetchCategories = async () => {\n    try {\n      const response = await fetch(`${apiURL}/categories`);\n      const data = await response.json();\n      if (data.result === \"success\") setCategories(data.data || []);\n    } catch (error) {\n      console.error(\"Error fetching categories:\", error);\n    }\n  };\n\n  // Add or Update Package\n  const handleAddOrUpdatePackage = async () => {\n    if (!newPackage.title) return alert(\"Please fill Title!\");\n    if (!newPackage.country) return alert(\"Please enter Country!\");\n\n    try {\n      const method = editingId ? \"PUT\" : \"POST\";\n      const url = editingId\n        ? `${apiURL}/packages/${editingId}`\n        : `${apiURL}/packages`;\n\n      const formData = new FormData();\n      for (const key in newPackage) {\n        formData.append(key, newPackage[key]);\n      }\n      if (imageFile) formData.append(\"image\", imageFile);\n\n      const response = await fetch(url, { method, body: formData });\n      const data = await response.json();\n\n      if (!response.ok) {\n        alert(\"‚ùå Error: \" + (data.message || \"Failed to save package\"));\n        return;\n      }\n\n      alert(\"‚úÖ Package saved successfully!\");\n      fetchPackages();\n      resetForm();\n    } catch (error) {\n      console.error(\"Error saving package:\", error);\n      alert(\"Something went wrong while saving the package.\");\n    }\n  };\n\n  // Delete Package\n  const handleRemovePackage = async (id) => {\n    if (!window.confirm(\"Are you sure you want to remove this package?\")) return;\n    try {\n      await fetch(`${apiURL}/packages/${id}`, { method: \"DELETE\" });\n      setPackages(packages.filter((pkg) => pkg._id !== id));\n    } catch (error) {\n      console.error(\"Error deleting package:\", error);\n    }\n  };\n\n  // Edit base package\n  const handleEditPackage = (pkg) => {\n    setNewPackage({\n      ...pkg,\n      category: pkg.category?._id || pkg.category,\n    });\n    setEditingId(pkg._id);\n    setFormOpen(true);\n  };\n\n  const handleViewDetails = (pkg) => setViewPackage(pkg);\n  const closeViewDetails = () => setViewPackage(null);\n\n  const resetForm = () => {\n    setFormOpen(false);\n    setEditingId(null);\n    setImageFile(null);\n    setNewPackage({\n      title: \"\",\n      type: \"Domestic\",\n      category: \"\",\n      price: \"\",\n      rating: \"\",\n      review: \"\",\n      image: \"\",\n      country: \"\",\n      showOnHome: false,\n    });\n  };\n\n  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n  // Handle Multiple Image Details (Day-wise)\n  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n  const handleOpenDetailForm = async (pkg) => {\n    await loadExistingDetails(pkg._id);\n    setDetailForm(pkg);\n    setDetailData({ mainImage: null, days: 0, dayWiseImages: {} });\n  };\n\n  const loadExistingDetails = async (packageId) => {\n    try {\n      setExistingDetails([]);\n      const res = await fetch(`${apiURL}/package-details/packagebyid/${packageId}`);\n      if (res.ok) {\n        const payload = await res.json();\n        setExistingDetails(Array.isArray(payload.data) ? payload.data : []);\n      } else {\n        setExistingDetails([]);\n      }\n    } catch (e) {\n      console.warn(\"Could not fetch existing package details\", e);\n      setExistingDetails([]);\n    }\n  };\n\n  const handleDaysChange = (value) => {\n    const days = Number(value);\n    if (days <= 0) return;\n    const newDayWise = {};\n    for (let i = 1; i <= days; i++) {\n      newDayWise[`Day ${i}`] = [];\n    }\n    setDetailData({ ...detailData, days, dayWiseImages: newDayWise });\n  };\n\n  const handleAddImagesForDay = (day, files) => {\n    const arr = Array.from(files).map((file) => ({\n      image: file,\n      imageName: file.name.replace(/\\.[^/.]+$/, \"\"),\n      rating: 4.5,\n      review: \"\",\n      imageDetail: \"\",\n    }));\n\n    setDetailData((prev) => ({\n      ...prev,\n      dayWiseImages: {\n        ...prev.dayWiseImages,\n        [day]: [...(prev.dayWiseImages[day] || []), ...arr],\n      },\n    }));\n  };\n\n  const handleSavePackageDetail = async () => {\n    if (!detailForm?._id) {\n      alert(\"Package ID missing! Please re-open the detail form.\");\n      return;\n    }\n\n    if (detailData.days < 1) {\n      alert(\"Please enter a valid number of days.\");\n      return;\n    }\n\n    // Flatten all images across days\n    const allImages = [];\n    Object.entries(detailData.dayWiseImages).forEach(([day, imgs]) => {\n      imgs.forEach((img) => {\n        allImages.push({\n          ...img,\n          day,\n        });\n      });\n    });\n\n    if (!allImages.length) {\n      alert(\"Please upload at least one image.\");\n      return;\n    }\n\n    try {\n      const formData = new FormData();\n      formData.append(\"packageID\", detailForm._id);\n      formData.append(\n        \"imagesData\",\n        JSON.stringify(\n          allImages.map((i) => ({\n            imageName: i.imageName,\n            rating: i.rating,\n            review: i.review,\n            imageDetail: i.imageDetail,\n            day: i.day,\n          }))\n        )\n      );\n\n      if (detailData.mainImage) formData.append(\"image\", detailData.mainImage);\n      allImages.forEach((img) => formData.append(\"images\", img.image));\n\n      const response = await fetch(`${apiURL}/package-details`, {\n        method: \"POST\",\n        body: formData,\n      });\n\n      const data = await response.json();\n      if (!response.ok) {\n        alert(\"‚ùå Failed to save details: \" + (data.message || \"Unknown error\"));\n        return;\n      }\n\n      alert(\"‚úÖ Package Detail saved successfully!\");\n      await loadExistingDetails(detailForm._id);\n    } catch (error) {\n      console.error(\"Error saving package detail:\", error);\n      alert(\"Something went wrong while saving the package detail.\");\n    }\n  };\n\n  const filteredPackages = packages.filter(\n    (pkg) => !selectedSubcategory || pkg.type === selectedSubcategory\n  );\n\n  return (\n    <div className=\"packages-container\">\n      {/* üí• Keeping your UI untouched */}\n      {/* (rest of the code stays same) */}\n\n      {/* Detail Form (Day-wise) */}\n      {detailForm && (\n        <div className=\"modal-overlay\">\n          <div\n            className=\"modal\"\n            style={{ maxWidth: \"900px\", maxHeight: \"85vh\", overflowY: \"auto\" }}\n          >\n            <h2>üìã Package Detail Form</h2>\n\n            {/* Main Image */}\n            <h3>üñºÔ∏è Main Image</h3>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={(e) =>\n                setDetailData({ ...detailData, mainImage: e.target.files[0] })\n              }\n            />\n            {detailData.mainImage && (\n              <p style={{ fontSize: 13, color: \"#666\" }}>\n                Selected: {detailData.mainImage.name}\n              </p>\n            )}\n\n            {/* Number of Days */}\n            <h3 style={{ marginTop: 16 }}>üóìÔ∏è Number of Days</h3>\n            <input\n              type=\"number\"\n              min=\"1\"\n              placeholder=\"Enter number of days\"\n              value={detailData.days || \"\"}\n              onChange={(e) => handleDaysChange(e.target.value)}\n              style={{ width: \"100%\", marginBottom: 12 }}\n            />\n\n            {/* Day-wise sections */}\n            {Object.keys(detailData.dayWiseImages).map((day, idx) => (\n              <div\n                key={idx}\n                style={{\n                  border: \"2px solid #ddd\",\n                  borderRadius: 10,\n                  marginTop: 20,\n                  padding: 15,\n                }}\n              >\n                <h3>{day}</h3>\n                <input\n                  type=\"file\"\n                  multiple\n                  accept=\"image/*\"\n                  onChange={(e) => handleAddImagesForDay(day, e.target.files)}\n                />\n\n                {(detailData.dayWiseImages[day] || []).map((img, index) => (\n                  <div\n                    key={index}\n                    style={{\n                      border: \"1px solid #ccc\",\n                      borderRadius: \"10px\",\n                      padding: \"12px\",\n                      marginTop: \"12px\",\n                    }}\n                  >\n                    <h4>üñºÔ∏è Image {index + 1}</h4>\n                    <p style={{ fontSize: 13, color: \"#666\" }}>\n                      {img.image.name}\n                    </p>\n\n                    <input\n                      type=\"text\"\n                      placeholder=\"Image Name\"\n                      value={img.imageName}\n                      onChange={(e) => {\n                        const updated = { ...detailData };\n                        updated.dayWiseImages[day][index].imageName =\n                          e.target.value;\n                        setDetailData(updated);\n                      }}\n                      style={{ width: \"100%\", marginBottom: 8 }}\n                    />\n\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      max=\"5\"\n                      step=\"0.1\"\n                      placeholder=\"Rating\"\n                      value={img.rating}\n                      onChange={(e) => {\n                        const updated = { ...detailData };\n                        updated.dayWiseImages[day][index].rating =\n                          e.target.value;\n                        setDetailData(updated);\n                      }}\n                      style={{ width: \"100%\", marginBottom: 8 }}\n                    />\n\n                    <input\n                      type=\"text\"\n                      placeholder=\"Review\"\n                      value={img.review}\n                      onChange={(e) => {\n                        const updated = { ...detailData };\n                        updated.dayWiseImages[day][index].review =\n                          e.target.value;\n                        setDetailData(updated);\n                      }}\n                      style={{ width: \"100%\", marginBottom: 8 }}\n                    />\n\n                    <textarea\n                      placeholder=\"Image Detail\"\n                      value={img.imageDetail}\n                      onChange={(e) => {\n                        const updated = { ...detailData };\n                        updated.dayWiseImages[day][index].imageDetail =\n                          e.target.value;\n                        setDetailData(updated);\n                      }}\n                      style={{ width: \"100%\", minHeight: \"60px\" }}\n                    ></textarea>\n                  </div>\n                ))}\n              </div>\n            ))}\n\n            {/* Buttons */}\n            <div className=\"modal-actions\" style={{ marginTop: 12 }}>\n              <button className=\"save-btn\" onClick={handleSavePackageDetail}>\n                ‚úÖ Save\n              </button>\n              <button\n                className=\"cancel-btn\"\n                onClick={() => setDetailForm(null)}\n              >\n                ‚ùå Close\n              </button>\n            </div>\n\n            {/* Existing Details */}\n            <div style={{ marginTop: 20 }}>\n              <h3>üìö Existing Image Details</h3>\n              {existingDetails.length === 0 ? (\n                <p style={{ color: \"#666\" }}>No details added yet.</p>\n              ) : (\n                <div style={{ display: \"grid\", gap: 10 }}>\n                  {existingDetails.map((det) => (\n                    <div\n                      key={det._id}\n                      style={{\n                        border: \"1px solid #ddd\",\n                        padding: \"10px\",\n                        borderRadius: 10,\n                      }}\n                    >\n                      <p>\n                        <strong>üìÖ Day:</strong> {det.day || \"N/A\"}\n                      </p>\n                      <p>\n                        <strong>üì∏ Image:</strong> {det.imageName}\n                      </p>\n                      <p>\n                        <strong>‚≠ê Rating:</strong> {det.rating}\n                      </p>\n                      <p>\n                        <strong>üí¨ Review:</strong> {det.review}\n                      </p>\n                      <p>\n                        <strong>üìÑ Detail:</strong> {det.imageDetail}\n                      </p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}